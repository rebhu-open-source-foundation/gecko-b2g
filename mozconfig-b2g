# Compiler
export CC=$HOME/.mozbuild/clang/bin/clang
export CXX=$HOME/.mozbuild/clang/bin/clang++
export LLVMCONFIG=$HOME/.mozbuild/clang/bin/llvm-config
export LLVM_CONFIG=$HOME/.mozbuild/clang/bin/llvm-config
#export CBINDGEN=$HOME/.mozbuild/cbindgen/cbindgen

# Build B2G
ac_add_options --enable-application=b2g
ac_add_options --target=arm-linux-androideabi

# Disable a bunch of non critical stuff
ac_add_options --disable-crashreporter
ac_add_options --disable-webrtc
ac_add_options --disable-av1
ac_add_options --disable-accessibility

# Enable debugging
ac_add_options --enable-debug

# With the following Android SDK and NDK:
ac_add_options --with-android-ndk="$HOME/.mozbuild/android-ndk-r17b"
ac_add_options --with-android-version=23

# Use sccache
ac_add_options --with-ccache=sccache

# Auto-clobber
mk_add_options AUTOCLOBBER=1

# Gonk-specific stuff
ac_add_options --with-gonk-gfx
ac_add_options --with-gonk="$GONK_PATH"

# Customize the objdir.
if [ -f "$GECKO_OBJDIR" ]; then
mk_add_options MOZ_OBJDIR="$GECKO_OBJDIR"
fi
